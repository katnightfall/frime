import{_ as W,S as G,e as J,O as K,$ as D,r as h,d as b,a as Z,a1 as tt,y as C,b as st,q as a,m as u,f as et,B as l,x as n,u as i,E as R,l as v,P as lt,Q as it,F as S,s as A,I as T,i as ot,v as Y,j as o}from"./index-T7h_UdHs.js";import{M as $}from"./MusicSidebar-CCkTtoJO.js";import{M as at}from"./MusicPlaylistCreate-DvG-gnhs.js";import{M as F}from"./MusicBar-DLkwrLwI.js";import"./index-CL3x2Jg2.js";const nt={key:0,class:"gps-set-box"},ct={class:"gps-set-box-top"},ut={key:1,class:"gps-set-box"},rt={class:"gps-set-box-top"},dt={class:"music-app-header"},vt=["placeholder"],pt={key:0,class:"music-title-selection-box"},yt=["onContextmenu","onClick"],_t=["src"],ht={class:"music-title-name"},mt={class:"music-artist-name"},gt={key:1,class:"music-title-selection-box"},Pt=["onContextmenu","onClick"],Ct=["src"],It={class:"music-title-name"},ft={class:"music-artist-name"},bt={class:"music-header"},St={key:0,class:"music-title-2"},kt=["src"],Lt=["src"],At={class:"playlist-button",disabled:"",style:{right:"3.5vh"}},Tt={key:3,class:"music-title-selection-box",style:{"border-top":"1px solid #e5e5e5",top:"27vh",height:"18.5vh"}},Mt={class:"playlist-no-music-text"},xt={key:4,class:"music-title-selection-box",style:{"border-top":"1px solid #e5e5e5",top:"27vh",height:"18.5vh"}},Et=["onClick","onContextmenu"],Ot=["src"],Ut={class:"music-title-name",style:{left:"6vh","font-size":"1vh","margin-top":"0.8vh"}},Nt={class:"music-artist-name",style:{"margin-top":"2vh",left:"6vh"}},Bt={__name:"MusicPlaylists",setup(wt){const M=tt(),x=ot(),E=G(),V=J(),H=K(),{IntlString:r}=D(V),{onlyPlaylists:p,playlists:I}=D(H),y=h(""),k=h(""),c=h(null),m=h(!1),_=h(null),g=h(null),L=b(()=>{const e={};for(const s of I.value)e.hasOwnProperty(s.playlistId)||(e[s.playlistId]=s);return Object.values(e)}),j=b(()=>{const e=L.value;return y.value.length===0?e:e.filter(s=>s.playlistTitle.toLowerCase().includes(y.value.toLowerCase()))});b(()=>{const e=P.value;return k.value.length===0?e:e.filter(s=>s.song.toLowerCase().includes(k.value.toLowerCase()))});const P=b(()=>I.value.filter(e=>e.playlistId==c.value)),q=()=>{C.post("deletePlaylist",{id:g.value}),f()},f=()=>{_.value=null,g.value=null},O=(e,s)=>{g.value=s,e.preventDefault()},U=e=>I.value.filter(s=>s.playlistId==e).length,z=(e,s)=>{_.value=s,e.preventDefault()},N=e=>{c.value=e},X=()=>{C.post("removeMusicFromPlaylist",{playlistid:c.value,musicid:_.value}),f()},B=e=>{C.playMusicPlaylist(e)},Q=()=>{const s=P.value[0];s&&B(s.songid)},w=e=>{C.inputFocus(e)};return Z(async()=>{E.on("closePlaylist",()=>{m.value=!1}),M.params.id&&(c.value=M.params.id),(I.value.length===0||p.value.length===0)&&C.post("loadPlaylists")}),st(()=>{E.off("closePlaylist")}),(e,s)=>(o(),a(S,null,[_.value?(o(),a("div",nt,[l("div",ct,[l("button",{class:"gps-set-box-top-button",onClick:X,style:{color:"red","border-radius":"1vh"}},n(i(r)("MUSIC_APP_PLAYLIST_REMOVE_FROM_PLAYLIST")),1)]),l("div",{class:"gps-set-box-bottom",onClick:f},n(i(r)("APP_CALL_SELECTION_BOX_CANCEL")),1)])):u("",!0),g.value?(o(),a("div",ut,[l("div",rt,[l("button",{class:"gps-set-box-top-button",onClick:q,style:{color:"red","border-radius":"1vh"}},n(i(r)("MUSIC_APP_PLAYLIST_DELETE_PLAYLIST")),1)]),l("div",{class:"gps-set-box-bottom",onClick:f},n(i(r)("APP_CALL_SELECTION_BOX_CANCEL")),1)])):u("",!0),m.value?(o(),et(at,{key:2})):u("",!0),c.value?u("",!0):(o(),a("div",{key:3,class:R(["home",{brightness:m.value||_.value||g.value}])},[v($),l("div",dt,n(i(r)("MUSIC_APP_HEADER_PLAYLIST")),1),l("div",{class:"music-add-playlist",onClick:s[0]||(s[0]=t=>m.value=!0)}," + "),lt(l("input",{class:"music-app-searchbar-input",onFocus:s[1]||(s[1]=t=>w(!0)),onBlur:s[2]||(s[2]=t=>w(!1)),placeholder:i(r)("MUSIC_APP_FOOTER_SEARCH"),"onUpdate:modelValue":s[3]||(s[3]=t=>y.value=t)},null,40,vt),[[it,y.value]]),y.value.length===0?(o(),a("div",pt,[(o(!0),a(S,null,A(i(p),t=>(o(),a("div",{class:"music-title-selection",onContextmenu:d=>O(d,t.playlistId),style:{"margin-left":"8vh"},onClick:d=>N(t.playlistId),key:t.playlistId},[l("img",{class:"music-title-selection-image",src:t.playlistImage},null,8,_t),l("div",ht,n(t.playlistTitle.length>=26?t.playlistTitle.slice(0,26)+"..":t.playlistTitle),1),l("div",mt,"1 Album * "+n(U(t.playlistId))+" Songs",1)],40,yt))),128))])):u("",!0),y.value.length>0?(o(),a("div",gt,[(o(!0),a(S,null,A(j.value,t=>(o(),a("div",{class:"music-title-selection",onContextmenu:d=>O(d,t.playlistId),style:{"margin-left":"8vh"},onClick:d=>N(t.playlistId),key:t.playlistId},[l("img",{class:"music-title-selection-image",src:t.playlistImage},null,8,Ct),l("div",It,n(t.playlistTitle.length>=26?t.playlistTitle.slice(0,26)+"..":t.playlistTitle),1),l("div",ft,"1 Album * "+n(U(t.playlistId))+" Songs",1)],40,Pt))),128))])):u("",!0),v(F)],2)),c.value?(o(),a("div",{key:4,class:R(["home",{brightness:m.value||_.value}])},[v($),l("div",bt,[i(p).find(t=>t.playlistId==c.value)?(o(),a("div",St,n(i(p).find(t=>t.playlistId==c.value).playlistTitle),1)):u("",!0),l("div",{class:"music-playlist-back",onClick:s[4]||(s[4]=t=>c.value=null)},[v(i(T),{icon:"eva:arrow-back-fill"})]),l("div",{class:"contact-viewcontact-edit",onClick:s[5]||(s[5]=t=>i(x).push("/music/playlist/edit/"+c.value))},n(i(r)("CONTACT_APP_CONTACT_VIEW_EDIT")),1),L.value.find(t=>t.playlistId==c.value)?(o(),a("img",{key:1,class:"playlist-big-image",src:L.value.find(t=>t.playlistId==c.value).playlistImage},null,8,kt)):u("",!0),i(p).find(t=>t.playlistId==c.value)?(o(),a("img",{key:2,class:"playlist-big-image",src:i(p).find(t=>t.playlistId==c.value).playlistImage},null,8,Lt)):u("",!0),l("button",{class:"playlist-button",style:{right:"30%"},onClick:Q},[v(i(T),{icon:"ph:play-fill",style:{"margin-right":"0.5vh"}}),Y(" "+n(i(r)("MUSIC_APP_PLAYLIST_PLAY_BUTTON")),1)]),l("button",At,[v(i(T),{icon:"mdi:share",style:{"margin-left":"-1vh"}}),Y(" "+n(i(r)("MUSIC_APP_PLAYLIST_SHARE_BUTTON")),1)]),P.value.length===0?(o(),a("div",Tt,[l("div",Mt,n(i(r)("MUSIC_APP_PLAYLIST_NO_MUSIC")),1),l("div",{class:"playlist-no-music-button",onClick:s[6]||(s[6]=t=>i(x).push("/music"))},n(i(r)("MUSIC_APP_PLAYLIST_ADD_MUSIC")),1)])):u("",!0),k.value.length===0&&P.value.length>0?(o(),a("div",xt,[(o(!0),a(S,null,A(P.value,t=>(o(),a("div",{class:"music-title-selection",onClick:d=>B(t.songid),onContextmenu:d=>z(d,t.id),style:{"margin-left":"6vh",height:"4vh"},key:t.id},[l("img",{class:"music-title-selection-image",style:{height:"3vh",width:"3vh"},src:t.image},null,8,Ot),l("div",Ut,n(t.song.length>=26?t.song.slice(0,26)+"..":t.song),1),l("div",Nt,n(t.artist),1)],40,Et))),128))])):u("",!0),v(F)])],2)):u("",!0)],64))}},Vt=W(Bt,[["__scopeId","data-v-0cf30962"]]);export{Vt as default};
